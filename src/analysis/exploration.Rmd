---
title: "R Notebook: initial exploration for Gas Cost Estimator"
output: html_notebook
---

```{r}
library(sqldf)
setwd("~/sources/imapp/gas-cost-estimator/src")
```

Read in the `programs.csv` as generated by `src/program_generator.py` with `--fullCSV` flag on
```{r}
programs = read.csv("../../programs.csv")
```

Read in the `result.csv` as generated by `src/measurements.py`

```{r}
results = read.csv("../../result.csv")
```

Combine the two tables to see only times of the measured opcodes.

```{r}
measurements = sqldf("SELECT opcode_measured, sample_id, run_id, measure_all_time_ns
                     FROM results
                     INNER JOIN programs ON(results.program_id = programs.program_id)
                     WHERE results.instruction_id = programs.measured_op_position")

head(measurements)
                     
```

```{r}
boxplot(measure_all_time_ns ~ opcode_measured, data=measurements, las=2)
```